@inject NavigationManager Nav
@using MudBlazor

<MudPaper Class="d-flex flex-column align-center justify-center" Style="height:100vh;">
	<MudText Typo="Typo.h6" Class="mb-2">Redirecting to login...</MudText>
	<MudProgressCircular Indeterminate="true" Size="Size.Large" Color="Color.Dark" />
</MudPaper>

@code {
    private bool _redirectStarted = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !_redirectStarted)
        {
            _redirectStarted = true;

            await Task.Delay(200); // 0.2sec visual delay
            Nav.NavigateTo("/login", true); 
        }
    }
}
